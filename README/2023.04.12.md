# 大數據的可視化工具

## 簡介
在我之前的文章中，我只是稍微提到了可視化工具的概念。前端是數據管道的關鍵部分，因為它是您分析平台的可見部分；無論您的數據管道有多好，它都需要可靠且高效的可視化工具來實現其目的：提供有意義的見解，以便利益相關者可以做出重要的數據驅動決策。

在本文中，我將快速概述在運行數據管道後可用於處理數據的不同可視化選項。我將重點介紹開源解決方案，這是一種更便宜且更可移植的選擇。公共雲提供商有多種商業智能和數據可視化選項，建議您探索一下，但這超出了本文的範圍。一般來說，使用這些雲服務非常簡單直接，但比使用開源解決方案更昂貴。

您可能考慮的一些商業解決方案是 Qlik、Looker 或 Tableau，但這些也超出了本文的範圍。

### 可視化選項
根據您的用例，您可以考慮兩個廣泛的可視化類別：

- 商業智能工具：在此類別中，您有用於滿足不同利益相關者（如業務用戶、數據科學家、工程師和經理）的分析需求的內部工具。這些工具可以在本地部署或在雲中使用。儘管可以向客戶授權訪問，但它們往往是由您的公司使用，而不是向您的用戶公開分析。
- 可視化工具：在此類別中，我們有專注於創建可視化前端應用程序的工具。這些包括圖表庫和前端應用程序的分析 API。這些工具主要用於與現有產品集成，例如面向客戶的網站。

簡而言之，將商業智能工具主要視為內部分析工具，多租戶一體化解決方案；另一方面，將可視化工具主要視為面向客戶的前端，通常是單租戶和單用途解決方案。讓我們來看看其中一些！

### 商業智能工具
在本節中，我們將檢視提供以下功能的一些解決方案：

- 連接到多個數據源的能力
- 可視化：儀表板和圖表
- 查詢構建器
- 報告和警報

### SuperSet
SuperSet 是最受歡迎的開源商業智能工具，用於可視化。它基於 Python，可以從任何具有 Python DB-API 驅動程序和 SQLAlchemy 方言的 SQL-speaking datastore 或數據引擎（例如 Presto 或 AWS Athena）查詢數據。

它支持各種各樣的圖表進行可視化，您還可以創建豐富的儀表板。它還具有運行即席查詢的界面。它非常易於使用，性能很好。用戶可以配置自動警報和報告，以發送到電子郵件收件人或 Slack 頻道：

- 當達到 SQL 條件時發送警報
- 按時間表發送報告

根據其文檔，這些是其主要功能：

- 直觀的界面，用於可視化數據集和製作交互式儀表板
- 各種美麗的可視化效果，展示您的數據
- 無代碼可視化構建器，用於提取和呈現數據集
- 世界級的 SQL IDE，用於為可視化準備數據，包括豐富的元數據瀏覽器
- 輕量級的語義層，使數據分析師能夠快速定義自定義維度和指標
- 對大多數 SQL-speaking 數據庫的即插即用支持
- 無縫、內存中的異步緩存和查詢
- 可擴展的安全模型，允許對誰可以訪問哪些產品功能和數據集進行非常複雜的規則配置。
- 與主要身份驗證後端（數據庫、OpenID、LDAP、OAuth、REMOTE_USER 等）的集成
- 添加自定義可視化插件的能力
- 用於編程自定義的 API
- 從頭開始設計的雲原生架構，可實現擴展

使用 Docker 開始非常容易。它有許多配置選項，並支持使用 Redis 的內存緩存。如果您需要任何不支持的特殊可視化，可以創建自己的可視化。

SuperSet 功能豐富，受歡迎，支持大量數據庫，包括 Cloud DB、傳統 DB 和 NoSQL 數據存儲。它還可以與 NewRelic、StatsD 和 DataDog 等服務很好地配合使用。

SuperSet 目前在許多公司（如 AirBnB）大規模運行。

### Metabase
Metabase 是 Superset 的替代方案，更易於設置，具有類似的功能：

- 具有自動刷新和全屏的豐富美麗的儀表板
- 分析師和數據專業人員的 SQL 模式
- 為您的團隊創建規範的段和指標
- 使用儀表板訂閱將數據發送到 Slack 或電子郵件
- 警報和報告。

它也支持許多數據庫，無論是官方支持還是社區支持。很酷的是，如果需要，它還提供企業支持，甚至還有一個非常易於使用的雲提供。

我喜歡 Metabase 的原因是您不需要成為商業智能專家才能使用它。它具有非常簡單易用的查詢構建器和許多可視化效果；您可以非常快速地創建儀表板並輕鬆共享它們。按照這個簡單的指南開始使用。

### Querybook
Querybook 是一個開源的大數據 IDE/notebook。它與前面的工具有些不同，因為它的主要目標是幫助您分析、記錄和共享您的分析查詢和可視化。它類似於 Jupyter Notebook，但專注於大數據。

它使用 DataDoc 的概念，使用可以包含文檔或查詢的單元格。這樣，您可以創建描述您的查詢和可視化

- 安裝 Cube.js。它可以在任何地方運行：Kubernetes、Serverless、on-prem等等。
- 連接到數據源。它支持許多不同類型的數據源，從Serverless Cloud數據倉庫到傳統的RDBMs。您可以連接到許多數據源。
- 構建您的前端。Cube.js可以為您生成儀表板應用程序，讓您開始，然後您可以根據需要自定義它並將其與您的產品/網站集成。

就是這樣！Cube.js處理其餘部分。

它提供了我們上面提到的所有功能，並且非常容易入門。如果您需要自己的前端應用程序，您也可以將Cube.js用作內部分析API。

簡而言之，Cube.js是回答以下問題的答案：好的，我有完美的數據管道和有價值的數據存儲在某個地方，我該如何使用它並從中獲得價值？

Cube.js在您的數據上添加了一個語義API層，以加速可視化開發； Cube.js還管理訪問控制、緩存和聚合數據。它可以與Serverless數據倉庫（例如Google BigQuery和AWS Athena）一起使用。由於Cube.js是可視化不可知的，因此您可以使用任何前端庫來構建自己的自定義UI。

Cube.js為任何嚴重依賴緩存和預聚合層從原始數據提供洞察力的分析應用程序提供必要的基礎設施，可在數十億數據點上提供幾分鐘內的結果和具有次秒響應時間的API。如果您必須自己實現它，這將非常困難。查看這些示例以了解Cube.js的功能和特點。

#### 架構

Cube.js充當分析後端，將業務邏輯（指標和維度）轉換為SQL，並管理緩存、排隊和數據庫連接。

Cube.js客戶端向REST API發送符合查詢格式的查詢。服務器使用模式生成SQL查詢，然後由您選擇的數據庫執行。服務器處理所有數據庫連接，以及預聚合和緩存層。然後將結果發送回客戶端。客戶端本身與可視化不可知，並且與任何圖表庫配合良好。

Cube.js提供了所需的後端，以有效的方式訪問所有數據源，以及用於從您的網站或移動應用程序安全地查詢此數據的前端客戶端。除此之外，它還具有模板和庫，可幫助您構建前端，無論您使用哪個框架（React、Angular、Vue…）或圖表庫。

現在，您已經擁有了使用Cube.js的API和前端客戶端，最後一步是決定使用哪個圖表庫。

讓我們回顧一些選項...

### 圖表庫
決定您應該使用哪個庫非常重要，您不希望在可視化數據時獲得緩慢的響應或瀏覽器標籤崩潰。這最後一個任務，即UI，是您數據管道旅程的最後一步，也是最重要的一步；如果您想避免用戶沮喪和最終項目失敗，則正確地完成此操作非常重要。

您應該考慮以下因素：

- 您的數據大小。某些庫比其他庫更擅長處理大型數據集。
- 您要使用的可視化類型。某些庫比其他庫更豐富。
- 低級與高級抽象。低級庫將為您提供更多控制，通常具有更好的性能，但使用起來更加困難，並且需要更多時間來開發。
- 移動應用程序支持。某些庫比其他庫更容易與本機移動應用程序集成。此外，某些庫比其他庫更具有響應性。
- SVG vs. Canvas。某些庫基於SVG，其他庫基於Canvas。SVG具有較低的內存佔用和更好的性能，這使其成為移動設備的絕佳選擇，但由於SVG是DOM的一部分，因此在處理大型數據集時可能會遇到問題，對於這種情況，Canvas是更好的選擇。某些庫提供對兩種渲染選項的支持。

我建議在做出決定之前進行測試和測試一些庫，並將它們並排比較。有大量的庫可用，在本文中，我只會快速概述我最喜歡的庫。您可以在Cube.js團隊創建的本文中找到更多庫和選項。我將僅關注開源庫。

### Chart.js
這是最受歡迎的庫，易於使用，具有足夠的圖表可供您開始使用，這是介紹自己進入這個世界的好選擇。它是響應式的，使用HTML5 canvas，並且是開源的；問題是它只有8種圖表。

### Recharts
如果您正在使用React構建前端，則這是一個很好的選擇。它是D3庫的高級封裝，抽象了D3低級API的複雜性，通過公開簡單的React組件，使其與您的React應用程序集成非常簡單。它支持主題，並且易於自定義。

這是開始使用React的最佳庫。

### Nivo
Nivo是另一個React封裝器，可在D3周圍提供更多的圖表，並支持SVG和Canvas。它支持主題，並且易於自定義。

### D3
這可能是用於數據可視化的最著名的圖表庫。它非常靈活，性能良好，具有許多圖表，並且高度可自定義。

缺點是它很難使用，您需要團隊中的專業知識來利用它提供的低級功能。此外，開發圖表需要更多時間。

### ECharts
Apache ECharts是另一個開源庫，它具有許多圖表，性能良好，相對容易使用。它高度可自定義，並且具有良好的文檔。

它使用一個名為zrender的高性能渲染引擎，提供了許多優化。很酷的是，您可以在運行時選擇是否要使用SVG或Canvas來渲染您的圖表。這是一個很棒的功能，因為使用相同的代碼，您可以根據數據大小或平台在引擎之間切換。

它易於與任何UI框架集成，並且擁有強大的社區支持。許多公司正在生產環境中使用它。它的性能與D3一樣好，但更容易使用。例如，SuperSet現在正在轉向ECharts。

總之，我建議使用Chart.js或Recharts開始使用，並使用ECharts進行更複雜的可視化。

### 結論